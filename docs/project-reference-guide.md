# Project Reference Guide: Auto-Trading Bot

This document serves as a quick reference guide to navigate the auto-trading project structure and find key information efficiently.

## Project Structure Overview

- **`/` (Root Directory)**: Contains main scripts, Dockerfile, and configuration templates.
  - `docker-launch.sh`: Script to build and run the Freqtrade bot using Docker. **Check this script to see the currently configured strategy (`--strategy` parameter).**
  - `Dockerfile`: Defines the custom Docker image.
  - `README.md`: Basic project overview and quick start guide.
  - `.env.sample`: Template for environment variables.
  - `.env`: **(Untracked)** Contains your actual API keys, Telegram tokens, and UI credentials.
- **`_docs/`**: Project documentation, guides, and plans.
  - `about-project.md`: High-level project goals and parameters.
  - `implementation-plan.md`: Step-by-step plan for project phases.
  - `setup-guide.md`: Detailed setup instructions for Binance, Telegram, and local dev.
  - `TODO.md`: Checklist of tasks for project setup and development.
  - `caddyfile-snippet.txt`: Example Caddy configuration for reverse proxy.
  - `project-reference-guide.md`: This file.
- **`config/`**: Configuration templates.
  - `config-template.json`: The base template for Freqtrade configuration. Uses environment variables (e.g., `${BINANCE_API_KEY}`) which are substituted by `docker-launch.sh`.
- **`scripts/`**: Helper scripts for installation, updates, monitoring, etc.
- **`user_data/`**: Local directory containing strategies, notebooks, etc. **Note:** When running with Docker via `docker-launch.sh`, the persistent data is stored in the host directory specified by `DATA_DIR` in `.env` (default: `/ndovu-data/freqtrade`). The contents of this local `user_data/` are copied into the Docker volume on initial launch.
  - `strategies/`: Contains all available trading strategies (both custom and downloaded).
  - `data/`: (Inside Docker volume) Stores downloaded market data.
  - `logs/`: (Inside Docker volume) Stores Freqtrade log files (`freqtrade.log`).
  - `tradesv3.sqlite`: (Inside Docker volume) The database storing trade history.

## Key Information Locations

| Information Needed                     | Where to Look                                                                                                | Notes                                                                                                                               |
| :------------------------------------- | :----------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------- |
| **API Keys & Secrets**                 | `.env` file (root directory)                                                                                 | This file is untracked by Git. Created from `.env.sample`.                                                                          |
| **Telegram Bot Token & Chat ID**       | `.env` file                                                                                                  |                                                                                                                                     |
| **Web UI Credentials**                 | `.env` file (`WEB_USERNAME`, `WEB_PASSWORD`)                                                                 | Port (`WEB_PORT`) is also set here, but the API server port is configured in `config-template.json` (`api_server.listen_port`). |
| **Base Trading Configuration**         | `config/config-template.json`                                                                                | Defines parameters like `max_open_trades`, `stake_amount`, `pair_whitelist`, `exchange`, `telegram`, `api_server` settings.         |
| **Processed/Active Configuration**     | `${DATA_DIR}/config.json` (on the host, path defined in `.env`)                                              | This is the file generated by `docker-launch.sh` from the template, with environment variables substituted. The container uses this. |
| **Currently Active Strategy**          | `docker-launch.sh` (look for the `--strategy` parameter in the `docker run` command)                         | Example: `--strategy ReinforcedAverageStrategy`                                                                                     |
| **Strategy Code**                      | `user_data/strategies/` (local) or `${DATA_DIR}/user_data/strategies/` (in Docker volume)                    | Find the `.py` file matching the active strategy name.                                                                              |
| **Persistent Bot Data (Trades, Logs)** | Host directory specified by `DATA_DIR` in `.env` (default: `/ndovu-data/freqtrade`)                            | Contains `user_data/` subdirectory with `tradesv3.sqlite`, `logs/`, `data/`.                                                        |
| **Live Bot Logs**                      | `docker logs -f freqtrade` (command line) or `${DATA_DIR}/user_data/logs/freqtrade.log` (log file)            | Also accessible via the Web UI Logs section.                                                                                        |
| **Trade History & Performance**        | Web UI (Dashboard, Trades sections) or query `${DATA_DIR}/user_data/tradesv3.sqlite` database.                 |                                                                                                                                     |
| **Pair Selection Logic**               | `config/config-template.json` (under `"pairlists"`)                                                          | Defines the methods used (Static, Volume, Filters).                                                                                 |
| **Dry Run Status**                     | `config/config-template.json` (`"dry_run": true/false`) or check Telegram startup message / Web UI indicator. | `docker-launch.sh` currently forces `--dry-run`. Remove this flag in the script for live trading.                                   |

## Interpreting Outputs

### Web UI (Dry Run)
- Access: `http://localhost:8101` (or your configured domain)
- Shows **simulated** trades and portfolio performance based on the `dry_run_wallet` setting (1000 USDT).
- Clearly indicates "DRY RUN" mode.
- Useful for monitoring strategy signals and virtual performance.

### Telegram Bot
- Provides real-time status updates, warnings, and trade notifications (simulated in dry run).
- Key startup messages indicate: Status, Exchange, Stake, ROI, Stoploss, Timeframe, Strategy, Pair Filters, Dry Run Warning.
- Use commands like `/status`, `/profit`, `/trades` for quick info. See `_docs/setup-guide.md` or use `/help` in Telegram.

## Making Changes

- **Change Strategy**: Edit the `--strategy` parameter in `docker-launch.sh` and restart the container (`./docker-launch.sh`).
- **Modify Config (Stake, Pairs, etc.)**: Edit `config/config-template.json`, then restart the container (`./docker-launch.sh`) to regenerate the active config.
- **Update API Keys/Telegram**: Edit the `.env` file and restart the container.
- **Edit Strategy Code**: Modify the relevant `.py` file in the local `user_data/strategies/` directory, then restart the container. The `cp` command in `docker-launch.sh` will copy the updated file into the volume.
- **Switch to Live Trading**:
    1. Edit `config/config-template.json` and set `"dry_run": false`.
    2. Remove the `--dry-run` flag from the `docker run` command in `docker-launch.sh`.
    3. Restart the container (`./docker-launch.sh`). **Ensure you understand the risks before going live.**
